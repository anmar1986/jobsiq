import{d as $,q as L,a as y,c as p,o as l,w as o,b as n,u as s,e as t,i as d,j as g,t as u,l as c,h as i,F as w,p as b,f as H,k as P}from"./app-yzrMLhk1.js";import{_ as I,a as m,b as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-DsJVhHRn.js";import{_ as h}from"./Badge.vue_vue_type_script_setup_true_lang-BPvFJs7Q.js";import{_ as C}from"./Card.vue_vue_type_script_setup_true_lang-d-QHjnd4.js";const S={class:"mb-8"},T={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Y={class:"text-gray-600"},F={key:0},A={key:1},E={key:0,class:"flex items-center gap-3"},q={class:"text-sm text-gray-600"},U={key:1,class:"flex items-center gap-3"},G={key:2,class:"flex items-center gap-3"},J={key:0,class:"mb-12"},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},O={class:"bg-gradient-to-r from-blue-600 to-blue-700 p-6 text-white"},Q={class:"flex items-start justify-between mb-3"},R={class:"flex gap-1"},W={class:"text-xl font-bold mb-1 truncate group-hover:text-blue-100 transition-colors"},X={class:"text-blue-100 text-sm truncate"},Z={class:"p-6"},ee={class:"space-y-3 mb-4"},te={key:0,class:"flex items-center gap-2 text-sm text-gray-600"},se={class:"truncate"},oe={key:1,class:"flex items-center gap-2 text-sm text-gray-600"},ae={key:0,class:"mb-4"},re={class:"flex flex-wrap gap-1.5"},le={class:"text-xs text-gray-500"},ne={class:"border-t border-gray-200 bg-gray-50 px-6 py-3 flex items-center justify-end gap-2"},ie={key:1},de={class:"max-w-md mx-auto"},ue={key:1,class:"text-gray-600"},fe={class:"text-center mb-6"},me={class:"text-gray-600"},ve={class:"flex gap-3"},xe=$({__name:"Index",props:{userCvs:{},cvCount:{},canCreateMore:{type:Boolean},maxCvs:{},cvs:{}},setup(M){const v=window.route,_=M;L();const V=a=>typeof a=="string"?a:a.name||"";console.log("CVs Index Props:",{userCvs:_.userCvs,cvCount:_.cvCount,canCreateMore:_.canCreateMore,maxCvs:_.maxCvs});const k=y(!1),x=y(null),z=a=>{x.value=a,k.value=!0},j=()=>{x.value&&P.delete(v("cvs.destroy",x.value.slug),{preserveScroll:!0,onSuccess:()=>{k.value=!1,x.value=null}})},B=a=>{const e=new Date(a),f=Math.floor((new Date().getTime()-e.getTime())/(1e3*60*60*24));return f===0?"today":f===1?"yesterday":f<7?`${f} days ago`:f<30?`${Math.floor(f/7)} weeks ago`:f<365?`${Math.floor(f/30)} months ago`:e.toLocaleDateString()};return(a,e)=>(l(),p(s(N),null,{default:o(()=>[n(s(I),{class:"py-8"},{default:o(()=>[t("div",S,[t("div",T,[t("div",null,[e[3]||(e[3]=t("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"My CVs",-1)),t("p",Y,[a.canCreateMore||a.cvCount>0?(l(),d("span",F,"Create and manage up to "+u(a.maxCvs)+" professional CVs",1)):(l(),d("span",A,"Please log in to create and manage your CVs"))])]),a.canCreateMore?(l(),d("div",E,[t("div",q,u(a.cvCount)+" / "+u(a.maxCvs)+" CVs ",1),n(s(c),{href:s(v)("cvs.create")},{default:o(()=>[n(s(m),{variant:"primary",size:"lg"},{default:o(()=>e[4]||(e[4]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),i(" Create Your CV ",-1)])),_:1,__:[4]})]),_:1},8,["href"])])):a.cvCount>=a.maxCvs?(l(),d("div",U,[n(s(h),{variant:"warning",size:"md"},{default:o(()=>[i(" Maximum limit reached ("+u(a.maxCvs)+"/"+u(a.maxCvs)+") ",1)]),_:1})])):a.cvCount===0&&!a.canCreateMore?(l(),d("div",G,[n(s(c),{href:s(v)("login")},{default:o(()=>[n(s(m),{variant:"primary",size:"lg"},{default:o(()=>e[5]||(e[5]=[i(" Log In to Create CV ",-1)])),_:1,__:[5]})]),_:1},8,["href"])])):g("",!0)])]),a.userCvs.length>0?(l(),d("div",J,[t("div",K,[(l(!0),d(w,null,b(a.userCvs,r=>(l(),p(s(C),{key:r.id,padding:"none",hover:"",class:"overflow-hidden group"},{default:o(()=>[n(s(c),{href:s(v)("cvs.show",r.slug),class:"block"},{default:o(()=>[t("div",O,[t("div",Q,[e[7]||(e[7]=t("div",{class:"w-14 h-14 bg-white rounded-full flex items-center justify-center"},[t("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",R,[r.is_primary?(l(),p(s(h),{key:0,variant:"success",size:"sm"},{default:o(()=>e[6]||(e[6]=[i("Primary",-1)])),_:1,__:[6]})):g("",!0),n(s(h),{variant:r.is_public?"info":"default",size:"sm"},{default:o(()=>[i(u(r.is_public?"Public":"Private"),1)]),_:2},1032,["variant"])])]),t("h3",W,u(r.title),1),t("p",X,u(r.full_name),1)]),t("div",Z,[t("div",ee,[r.email?(l(),d("div",te,[e[8]||(e[8]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t("span",se,u(r.email),1)])):g("",!0),r.phone?(l(),d("div",oe,[e[9]||(e[9]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),t("span",null,u(r.phone),1)])):g("",!0)]),r.skills&&r.skills.length?(l(),d("div",ae,[t("div",re,[(l(!0),d(w,null,b(r.skills.slice(0,3),(f,D)=>(l(),p(s(h),{key:D,variant:"default",size:"sm"},{default:o(()=>[i(u(V(f)),1)]),_:2},1024))),128)),r.skills.length>3?(l(),p(s(h),{key:0,variant:"default",size:"sm"},{default:o(()=>[i(" +"+u(r.skills.length-3),1)]),_:2},1024)):g("",!0)])])):g("",!0),t("div",le," Updated "+u(B(r.updated_at)),1)])]),_:2},1032,["href"]),t("div",ne,[n(s(c),{href:s(v)("cvs.edit",r.slug)},{default:o(()=>[n(s(m),{variant:"outline",size:"sm"},{default:o(()=>e[10]||(e[10]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),i(" Edit ",-1)])),_:1,__:[10]})]),_:2},1032,["href"]),n(s(m),{variant:"danger",size:"sm",onClick:f=>z(r)},{default:o(()=>e[11]||(e[11]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),i(" Delete ",-1)])),_:2,__:[11]},1032,["onClick"])])]),_:2},1024))),128))])])):(l(),d("div",ie,[n(s(C),{class:"text-center py-16"},{default:o(()=>[t("div",de,[e[15]||(e[15]=t("div",{class:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6"},[t("svg",{class:"w-12 h-12 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e[16]||(e[16]=t("h3",{class:"text-2xl font-bold text-gray-900 mb-3"},"Create Your First CV",-1)),e[17]||(e[17]=t("p",{class:"text-gray-600 mb-8"}," Build a professional CV in minutes and showcase your skills to potential employers. ",-1)),a.canCreateMore?(l(),p(s(c),{key:0,href:s(v)("cvs.create")},{default:o(()=>[n(s(m),{variant:"primary",size:"lg"},{default:o(()=>e[12]||(e[12]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),i(" Create Your CV ",-1)])),_:1,__:[12]})]),_:1},8,["href"])):(l(),d("div",ue,[e[14]||(e[14]=t("p",{class:"mb-4"},"You need to log in to create a CV.",-1)),n(s(c),{href:s(v)("login")},{default:o(()=>[n(s(m),{variant:"primary",size:"lg"},{default:o(()=>e[13]||(e[13]=[i(" Log In ",-1)])),_:1,__:[13]})]),_:1},8,["href"])]))])]),_:1})])),k.value?(l(),d("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e[2]||(e[2]=r=>k.value=!1)},[n(s(C),{padding:"lg",class:"max-w-md w-full",onClick:e[1]||(e[1]=H(()=>{},["stop"]))},{default:o(()=>[t("div",fe,[e[20]||(e[20]=t("div",{class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},[t("svg",{class:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e[21]||(e[21]=t("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Delete CV",-1)),t("p",me,[e[18]||(e[18]=i(' Are you sure you want to delete "',-1)),t("strong",null,u(x.value?.title),1),e[19]||(e[19]=i('"? This action cannot be undone. ',-1))])]),t("div",ve,[n(s(m),{variant:"outline",size:"lg",class:"flex-1",onClick:e[0]||(e[0]=r=>k.value=!1)},{default:o(()=>e[22]||(e[22]=[i(" Cancel ",-1)])),_:1,__:[22]}),n(s(m),{variant:"danger",size:"lg",class:"flex-1",onClick:j},{default:o(()=>e[23]||(e[23]=[i(" Delete ",-1)])),_:1,__:[23]})])]),_:1})])):g("",!0)]),_:1})]),_:1}))}});export{xe as default};
