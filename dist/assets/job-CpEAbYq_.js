import{E as r,G as w,r as n}from"./index-GVITuUF_.js";const b={async getJobs(e){return(await r.get("/jobs",{params:e})).data},async getFeaturedJobs(e=6){return(await r.get("/jobs/featured",{params:{limit:e}})).data},async getJob(e){return(await r.get(`/jobs/${e}`)).data},async createJob(e){return(await r.post("/jobs",e)).data},async updateJob(e,s){return(await r.put(`/jobs/${e}`,s)).data},async deleteJob(e){return(await r.delete(`/jobs/${e}`)).data}},_=w("job",()=>{const e=n([]),s=n([]),p=n(null),f=n(null),c=n({search:"",location:"",employment_type:"",experience_level:"",is_remote:void 0,category:"",per_page:15,page:1}),l=n(!1),u=n(null);async function g(o){var a,i;try{l.value=!0,u.value=null;const t={...c.value,...o},d=await b.getJobs(t);if(d.success&&d.data){const{data:m,...j}=d.data;e.value=m,f.value=j}}catch(t){throw u.value=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to fetch jobs",t}finally{l.value=!1}}async function v(o=6){try{const a=await b.getFeaturedJobs(o);a.success&&a.data&&(s.value=a.data)}catch(a){console.error("Failed to fetch featured jobs:",a)}}async function y(o){var a,i;try{l.value=!0,u.value=null;const t=await b.getJob(o);t.success&&t.data&&(p.value=t.data)}catch(t){throw u.value=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to fetch job",t}finally{l.value=!1}}function J(o){c.value={...c.value,...o}}function h(){c.value={search:"",location:"",employment_type:"",experience_level:"",is_remote:void 0,category:"",per_page:15,page:1}}return{jobs:e,featuredJobs:s,currentJob:p,pagination:f,filters:c,loading:l,error:u,fetchJobs:g,fetchFeaturedJobs:v,fetchJob:y,updateFilters:J,resetFilters:h}});export{_ as u};
