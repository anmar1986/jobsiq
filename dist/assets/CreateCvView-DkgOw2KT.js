import{d as C,r as U,c as v,a as e,b as i,e as S,f as $,o as g,v as J,F,g as M,t as _,z as G,C as Y,p as A,q as K,s as X,m as P,u as Z,K as Q,w as ee}from"./index-GVITuUF_.js";import{u as te}from"./cv-DT3822Ms.js";import{_ as le}from"./BaseCard.vue_vue_type_script_setup_true_lang-B9cdWWyn.js";import{_ as E}from"./BaseButton.vue_vue_type_script_setup_true_lang-D9fM7hcV.js";import{_ as y}from"./BaseInput.vue_vue_type_script_setup_true_lang-aIxR7trC.js";const oe={class:"mb-8"},ae={class:"flex items-center gap-6"},se={class:"w-32 h-32 bg-gray-100 rounded-full overflow-hidden flex items-center justify-center"},ne=["src"],ie={key:1,class:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},re=C({__name:"ProfileImageUpload",props:{modelValue:{},preview:{}},emits:["update:modelValue","update:preview","error"],setup(d,{emit:b}){const c=d,m=b,u=U(null),p=U(c.preview||null),o=a=>{var s;const n=(s=a.target.files)==null?void 0:s[0];if(n){if(n.size>2*1024*1024){m("error","Image size must be less than 2MB");return}if(!n.type.startsWith("image/")){m("error","Please select a valid image file");return}const l=new FileReader;l.onload=N=>{var D;const j=(D=N.target)==null?void 0:D.result;p.value=j,m("update:preview",j)},l.readAsDataURL(n),m("update:modelValue",n)}};return(a,t)=>(g(),v("div",oe,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Profile Picture",-1)),e("div",ae,[e("div",se,[p.value?(g(),v("img",{key:0,src:p.value,alt:"Profile preview",class:"w-full h-full object-cover"},null,8,ne)):(g(),v("svg",ie,[...t[1]||(t[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),e("div",null,[e("input",{type:"file",accept:"image/*",onChange:o,ref_key:"fileInput",ref:u,id:"profileImageInput",class:"hidden"},null,544),i(E,{type:"button",variant:"outline",size:"sm",onClick:t[0]||(t[0]=()=>{var n;return(n=u.value)==null?void 0:n.click()})},{default:S(()=>[...t[2]||(t[2]=[$(" Choose Photo ",-1)])]),_:1}),t[3]||(t[3]=e("p",{class:"text-xs text-gray-500 mt-2"},"JPG, PNG or GIF (max 2MB)",-1))])])]))}}),de={class:"mb-8"},ue={class:"grid md:grid-cols-2 gap-4"},me={class:"md:col-span-2"},pe=C({__name:"PersonalInfoSection",props:{personalInfo:{}},emits:["update:personalInfo"],setup(d,{emit:b}){const c=d,m=b,u=(p,o)=>{const a={...c.personalInfo,[p]:String(o)};m("update:personalInfo",a)};return(p,o)=>(g(),v("div",de,[o[14]||(o[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Personal Information",-1)),e("div",ue,[e("div",null,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Full Name *",-1)),i(y,{"model-value":d.personalInfo.full_name,"onUpdate:modelValue":o[0]||(o[0]=a=>u("full_name",a)),type:"text",placeholder:"John Doe",required:""},null,8,["model-value"])]),e("div",null,[o[8]||(o[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email *",-1)),i(y,{"model-value":d.personalInfo.email,"onUpdate:modelValue":o[1]||(o[1]=a=>u("email",a)),type:"email",placeholder:"john@example.com",required:""},null,8,["model-value"])]),e("div",null,[o[9]||(o[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone",-1)),i(y,{"model-value":d.personalInfo.phone,"onUpdate:modelValue":o[2]||(o[2]=a=>u("phone",a)),type:"tel",placeholder:"+1 (555) 000-0000"},null,8,["model-value"])]),e("div",null,[o[10]||(o[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"CV Title",-1)),i(y,{"model-value":d.personalInfo.title,"onUpdate:modelValue":o[3]||(o[3]=a=>u("title",a)),type:"text",placeholder:"My Professional CV"},null,8,["model-value"])]),e("div",me,[o[11]||(o[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Address",-1)),i(y,{"model-value":d.personalInfo.address,"onUpdate:modelValue":o[4]||(o[4]=a=>u("address",a)),type:"text",placeholder:"123 Main St, Apt 4B"},null,8,["model-value"])]),e("div",null,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"City",-1)),i(y,{"model-value":d.personalInfo.city,"onUpdate:modelValue":o[5]||(o[5]=a=>u("city",a)),type:"text",placeholder:"New York"},null,8,["model-value"])]),e("div",null,[o[13]||(o[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Country",-1)),i(y,{"model-value":d.personalInfo.country,"onUpdate:modelValue":o[6]||(o[6]=a=>u("country",a)),type:"text",placeholder:"United States"},null,8,["model-value"])])])]))}}),ce={class:"mb-8"},ve=["value"],ge=C({__name:"ProfessionalSummarySection",props:{summary:{}},emits:["update:summary"],setup(d,{emit:b}){const c=b,m=u=>{c("update:summary",u)};return(u,p)=>(g(),v("div",ce,[p[1]||(p[1]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Professional Summary",-1)),e("textarea",{value:d.summary,onInput:p[0]||(p[0]=o=>m(o.target.value)),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Brief overview of your professional background and goals..."},null,40,ve)]))}}),fe={class:"mb-8"},ye={class:"flex gap-2 mb-2"},be={class:"flex flex-wrap gap-2"},ke=["onClick"],xe=C({__name:"SkillsSection",props:{skills:{}},emits:["update:skills"],setup(d,{emit:b}){const c=d,m=b,u=U(""),p=()=>{if(u.value.trim()&&!c.skills.includes(u.value.trim())){const a=[...c.skills,u.value.trim()];m("update:skills",a),u.value=""}},o=a=>{const t=[...c.skills];t.splice(a,1),m("update:skills",t)};return(a,t)=>(g(),v("div",fe,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Skills",-1)),e("div",ye,[i(y,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value=n),type:"text",placeholder:"Add a skill...",onKeyup:J(p,["enter"]),class:"flex-1"},null,8,["modelValue"]),i(E,{type:"button",variant:"outline",onClick:p},{default:S(()=>[...t[1]||(t[1]=[$(" Add ",-1)])]),_:1})]),e("div",be,[(g(!0),v(F,null,M(d.skills,(n,s)=>(g(),v("span",{key:s,class:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm font-medium"},[$(_(n)+" ",1),e("button",{type:"button",onClick:l=>o(s),class:"hover:text-primary-900"},[...t[2]||(t[2]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ke)]))),128))])]))}}),we={class:"mb-8"},Ce={class:"flex items-center justify-between mb-4"},Ve={key:0,class:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},$e={key:1,class:"space-y-4"},he={class:"flex items-start justify-between mb-3"},Ue={class:"font-medium text-gray-900"},Se=["onClick"],_e={class:"grid md:grid-cols-2 gap-3"},Ee={class:"flex items-end"},Ie={class:"flex items-center gap-2 cursor-pointer pb-2"},Le=["checked","onChange"],Fe={class:"md:col-span-2"},Me=["value","onInput"],je=C({__name:"WorkExperienceSection",props:{workExperience:{}},emits:["update:workExperience"],setup(d,{emit:b}){const c=d,m=b,u=()=>{const a=[...c.workExperience,{position:"",company:"",location:"",start_date:"",end_date:"",current:!1,description:"",achievements:[]}];m("update:workExperience",a)},p=a=>{const t=[...c.workExperience];t.splice(a,1),m("update:workExperience",t)},o=(a,t,n)=>{const s=[...c.workExperience];s[a]={...s[a],[t]:n},m("update:workExperience",s)};return(a,t)=>(g(),v("div",we,[e("div",Ce,[t[1]||(t[1]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Work Experience",-1)),i(E,{type:"button",variant:"outline",size:"sm",onClick:u},{default:S(()=>[...t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),$(" Add Experience ",-1)])]),_:1})]),d.workExperience.length===0?(g(),v("div",Ve,[...t[2]||(t[2]=[e("p",{class:"text-gray-500"},"No work experience added yet",-1)])])):(g(),v("div",$e,[(g(!0),v(F,null,M(d.workExperience,(n,s)=>(g(),v("div",{key:s,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",he,[e("h4",Ue,"Experience #"+_(s+1),1),e("button",{type:"button",onClick:l=>p(s),class:"text-red-600 hover:text-red-700"},[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Se)]),e("div",_e,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Position *",-1)),i(y,{"model-value":n.position,"onUpdate:modelValue":l=>o(s,"position",l),placeholder:"Software Engineer",required:""},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Company *",-1)),i(y,{"model-value":n.company,"onUpdate:modelValue":l=>o(s,"company",l),placeholder:"Tech Company Inc",required:""},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),i(y,{"model-value":n.location,"onUpdate:modelValue":l=>o(s,"location",l),placeholder:"New York, NY"},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date *",-1)),i(y,{"model-value":n.start_date,"onUpdate:modelValue":l=>o(s,"start_date",l),type:"date",required:"",min:"1950-01-01",max:new Date().toISOString().split("T")[0]},null,8,["model-value","onUpdate:modelValue","max"])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),i(y,{"model-value":n.end_date,"onUpdate:modelValue":l=>o(s,"end_date",l),type:"date",disabled:n.current,min:"1950-01-01",max:new Date().toISOString().split("T")[0]},null,8,["model-value","onUpdate:modelValue","disabled","max"])]),e("div",Ee,[e("label",Ie,[e("input",{checked:n.current,onChange:l=>o(s,"current",l.target.checked),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,40,Le),t[9]||(t[9]=e("span",{class:"text-sm font-medium text-gray-700"},"Currently working here",-1))])]),e("div",Fe,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),e("textarea",{value:n.description,onInput:l=>o(s,"description",l.target.value),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe your role and responsibilities..."},null,40,Me)])])]))),128))]))]))}}),De={class:"mb-8"},Ne={class:"flex items-center justify-between mb-4"},Be={key:0,class:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Ae={key:1,class:"space-y-4"},Pe={class:"flex items-start justify-between mb-3"},ze={class:"font-medium text-gray-900"},qe=["onClick"],Oe={class:"grid md:grid-cols-2 gap-3"},He={class:"md:col-span-2"},Te=["value","onInput"],We=C({__name:"EducationSection",props:{education:{}},emits:["update:education"],setup(d,{emit:b}){const c=d,m=b,u=()=>{const a=[...c.education,{degree:"",field:"",institution:"",location:"",start_date:"",end_date:"",gpa:"",description:""}];m("update:education",a)},p=a=>{const t=[...c.education];t.splice(a,1),m("update:education",t)},o=(a,t,n)=>{const s=[...c.education];s[a]={...s[a],[t]:String(n)},m("update:education",s)};return(a,t)=>(g(),v("div",De,[e("div",Ne,[t[1]||(t[1]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Education",-1)),i(E,{type:"button",variant:"outline",size:"sm",onClick:u},{default:S(()=>[...t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),$(" Add Education ",-1)])]),_:1})]),d.education.length===0?(g(),v("div",Be,[...t[2]||(t[2]=[e("p",{class:"text-gray-500"},"No education added yet",-1)])])):(g(),v("div",Ae,[(g(!0),v(F,null,M(d.education,(n,s)=>(g(),v("div",{key:s,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",Pe,[e("h4",ze,"Education #"+_(s+1),1),e("button",{type:"button",onClick:l=>p(s),class:"text-red-600 hover:text-red-700"},[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qe)]),e("div",Oe,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Degree *",-1)),i(y,{"model-value":n.degree,"onUpdate:modelValue":l=>o(s,"degree",l),placeholder:"Bachelor of Science",required:""},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Field of Study *",-1)),i(y,{"model-value":n.field,"onUpdate:modelValue":l=>o(s,"field",l),placeholder:"Computer Science",required:""},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Institution *",-1)),i(y,{"model-value":n.institution,"onUpdate:modelValue":l=>o(s,"institution",l),placeholder:"University Name",required:""},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),i(y,{"model-value":n.location,"onUpdate:modelValue":l=>o(s,"location",l),placeholder:"Boston, MA"},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date *",-1)),i(y,{"model-value":n.start_date,"onUpdate:modelValue":l=>o(s,"start_date",l),type:"date",required:"",min:"1950-01-01",max:new Date().toISOString().split("T")[0]},null,8,["model-value","onUpdate:modelValue","max"])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),i(y,{"model-value":n.end_date,"onUpdate:modelValue":l=>o(s,"end_date",l),type:"date",min:"1950-01-01",max:new Date().toISOString().split("T")[0]},null,8,["model-value","onUpdate:modelValue","max"])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"GPA",-1)),i(y,{"model-value":n.gpa,"onUpdate:modelValue":l=>o(s,"gpa",l),placeholder:"3.8",maxlength:"10"},null,8,["model-value","onUpdate:modelValue"])]),e("div",He,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),e("textarea",{value:n.description,onInput:l=>o(s,"description",l.target.value),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Honors, achievements, relevant coursework..."},null,40,Te)])])]))),128))]))]))}}),Re={class:"mb-8"},Je={class:"flex items-center justify-between mb-4"},Ge={key:0,class:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Ye={key:1,class:"space-y-4"},Ke={class:"flex items-start justify-between mb-3"},Xe={class:"font-medium text-gray-900"},Ze=["onClick"],Qe={class:"grid md:grid-cols-2 gap-3"},et=C({__name:"CertificationsSection",props:{certifications:{}},emits:["update:certifications"],setup(d,{emit:b}){const c=d,m=b,u=()=>{const a=[...c.certifications,{name:"",issuer:"",date:"",expiry_date:"",credential_id:"",url:""}];m("update:certifications",a)},p=a=>{const t=[...c.certifications];t.splice(a,1),m("update:certifications",t)},o=(a,t,n)=>{const s=[...c.certifications];s[a]={...s[a],[t]:String(n)},m("update:certifications",s)};return(a,t)=>(g(),v("div",Re,[e("div",Je,[t[1]||(t[1]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Certifications",-1)),i(E,{type:"button",variant:"outline",size:"sm",onClick:u},{default:S(()=>[...t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),$(" Add Certification ",-1)])]),_:1})]),d.certifications.length===0?(g(),v("div",Ge,[...t[2]||(t[2]=[e("p",{class:"text-gray-500"},"No certifications added yet",-1)])])):(g(),v("div",Ye,[(g(!0),v(F,null,M(d.certifications,(n,s)=>(g(),v("div",{key:s,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",Ke,[e("h4",Xe,"Certification #"+_(s+1),1),e("button",{type:"button",onClick:l=>p(s),class:"text-red-600 hover:text-red-700"},[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ze)]),e("div",Qe,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Certification Name *",-1)),i(y,{"model-value":n.name,"onUpdate:modelValue":l=>o(s,"name",l),placeholder:"AWS Certified Developer",required:""},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Issuing Organization *",-1)),i(y,{"model-value":n.issuer,"onUpdate:modelValue":l=>o(s,"issuer",l),placeholder:"Amazon Web Services",required:""},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Issue Date *",-1)),i(y,{"model-value":n.date,"onUpdate:modelValue":l=>o(s,"date",l),type:"date",required:"",min:"1950-01-01",max:new Date().toISOString().split("T")[0]},null,8,["model-value","onUpdate:modelValue","max"])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Expiry Date",-1)),i(y,{"model-value":n.expiry_date,"onUpdate:modelValue":l=>o(s,"expiry_date",l),type:"date",min:"1950-01-01"},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Credential ID",-1)),i(y,{"model-value":n.credential_id,"onUpdate:modelValue":l=>o(s,"credential_id",l),placeholder:"ABC123XYZ"},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Credential URL",-1)),i(y,{"model-value":n.url,"onUpdate:modelValue":l=>o(s,"url",l),type:"url",placeholder:"https://..."},null,8,["model-value","onUpdate:modelValue"])])])]))),128))]))]))}}),tt={class:"mb-8"},lt={class:"flex items-center justify-between mb-4"},ot={key:0,class:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},at={key:1,class:"space-y-4"},st={class:"flex items-start justify-between mb-3"},nt={class:"font-medium text-gray-900"},it=["onClick"],rt={class:"grid md:grid-cols-2 gap-3"},dt=["value","onChange"],ut=C({__name:"LanguagesSection",props:{languages:{}},emits:["update:languages"],setup(d,{emit:b}){const c=d,m=b,u=()=>{const a=[...c.languages,{language:"",proficiency:""}];m("update:languages",a)},p=a=>{const t=[...c.languages];t.splice(a,1),m("update:languages",t)},o=(a,t,n)=>{const s=[...c.languages];s[a]={...s[a],[t]:String(n)},m("update:languages",s)};return(a,t)=>(g(),v("div",tt,[e("div",lt,[t[1]||(t[1]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Languages",-1)),i(E,{type:"button",variant:"outline",size:"sm",onClick:u},{default:S(()=>[...t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),$(" Add Language ",-1)])]),_:1})]),d.languages.length===0?(g(),v("div",ot,[...t[2]||(t[2]=[e("p",{class:"text-gray-500"},"No languages added yet",-1)])])):(g(),v("div",at,[(g(!0),v(F,null,M(d.languages,(n,s)=>(g(),v("div",{key:s,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",st,[e("h4",nt,"Language #"+_(s+1),1),e("button",{type:"button",onClick:l=>p(s),class:"text-red-600 hover:text-red-700"},[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,it)]),e("div",rt,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Language *",-1)),i(y,{"model-value":n.language,"onUpdate:modelValue":l=>o(s,"language",l),placeholder:"English",required:""},null,8,["model-value","onUpdate:modelValue"])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Proficiency *",-1)),e("select",{value:n.proficiency,onChange:l=>o(s,"proficiency",l.target.value),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...t[5]||(t[5]=[G('<option value="">Select proficiency</option><option value="basic">Basic</option><option value="conversational">Conversational</option><option value="fluent">Fluent</option><option value="native">Native</option>',5)])],40,dt)])])]))),128))]))]))}}),mt={class:"mb-8"},pt={class:"grid md:grid-cols-3 gap-4"},ct=C({__name:"SocialLinksSection",props:{socialLinks:{}},emits:["update:socialLinks"],setup(d,{emit:b}){const c=d,m=b,u=(p,o)=>{const a={...c.socialLinks,[p]:String(o)};m("update:socialLinks",a)};return(p,o)=>(g(),v("div",mt,[o[6]||(o[6]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Social Links",-1)),e("div",pt,[e("div",null,[o[3]||(o[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Website URL",-1)),i(y,{"model-value":d.socialLinks.website,"onUpdate:modelValue":o[0]||(o[0]=a=>u("website",a)),type:"url",placeholder:"https://portfolio.com"},null,8,["model-value"])]),e("div",null,[o[4]||(o[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"LinkedIn URL",-1)),i(y,{"model-value":d.socialLinks.linkedin,"onUpdate:modelValue":o[1]||(o[1]=a=>u("linkedin",a)),type:"url",placeholder:"https://linkedin.com/in/username"},null,8,["model-value"])]),e("div",null,[o[5]||(o[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"GitHub URL",-1)),i(y,{"model-value":d.socialLinks.github,"onUpdate:modelValue":o[2]||(o[2]=a=>u("github",a)),type:"url",placeholder:"https://github.com/username"},null,8,["model-value"])])])]))}}),vt={class:"mb-8"},gt={class:"flex flex-col gap-4"},ft={class:"flex items-center gap-2 cursor-pointer"},yt=["checked"],bt={class:"flex items-center gap-2 cursor-pointer"},kt=["checked"],xt=C({__name:"CvSettingsSection",props:{settings:{}},emits:["update:settings"],setup(d,{emit:b}){const c=d,m=b,u=(p,o)=>{const a={...c.settings,[p]:o};m("update:settings",a)};return(p,o)=>(g(),v("div",vt,[o[4]||(o[4]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Settings",-1)),e("div",gt,[e("label",ft,[e("input",{checked:d.settings.is_public,onChange:o[0]||(o[0]=a=>u("is_public",a.target.checked)),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,40,yt),o[2]||(o[2]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-700"},"Make this CV public"),e("p",{class:"text-xs text-gray-500"},"Public CVs can be viewed by employers")],-1))]),e("label",bt,[e("input",{checked:d.settings.is_primary,onChange:o[1]||(o[1]=a=>u("is_primary",a.target.checked)),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,40,kt),o[3]||(o[3]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-700"},"Set as primary CV"),e("p",{class:"text-xs text-gray-500"},"This will be your default CV")],-1))])])]))}}),wt={class:"container-custom py-8"},Ct={class:"mb-8"},Vt={class:"text-3xl font-bold text-gray-900"},$t={class:"text-gray-600 mt-2"},ht={class:"flex gap-3 pt-4 border-t border-gray-200"},Lt=C({__name:"CreateCvView",setup(d){const b=Z(),c=X(),m=te(),u=Y(),p=Q(),o=U(!1),a=U(null),t=U(null),n=U(!1),s=U(null),l=U({full_name:"",email:"",phone:"",title:"",summary:"",skills:[],website:"",linkedin:"",github:"",address:"",city:"",country:"",is_public:!0,is_primary:!1,work_experience:[],education:[],certifications:[],languages:[]}),N=A(()=>({full_name:l.value.full_name,email:l.value.email,phone:l.value.phone,title:l.value.title,address:l.value.address,city:l.value.city,country:l.value.country})),j=A(()=>({website:l.value.website,linkedin:l.value.linkedin,github:l.value.github})),D=A(()=>({is_public:l.value.is_public,is_primary:l.value.is_primary})),O=x=>{l.value.full_name=x.full_name,l.value.email=x.email,l.value.phone=x.phone,l.value.title=x.title,l.value.address=x.address,l.value.city=x.city,l.value.country=x.country},H=x=>{l.value.website=x.website,l.value.linkedin=x.linkedin,l.value.github=x.github},T=x=>{l.value.is_public=x.is_public,l.value.is_primary=x.is_primary},W=async()=>{var x,f,r,I,L,z,q;o.value=!0;try{const V=l.value.skills.map(w=>({name:w,level:void 0,category:void 0})),B=l.value.education.map(w=>({...w,gpa:w.gpa?w.gpa.substring(0,10):w.gpa})),k=new FormData;k.append("full_name",l.value.full_name),k.append("email",l.value.email),l.value.phone&&k.append("phone",l.value.phone),l.value.website&&k.append("website",l.value.website),l.value.linkedin&&k.append("linkedin",l.value.linkedin),l.value.github&&k.append("github",l.value.github),l.value.address&&k.append("address",l.value.address),l.value.city&&k.append("city",l.value.city),l.value.country&&k.append("country",l.value.country),l.value.title&&k.append("title",l.value.title),l.value.summary&&k.append("summary",l.value.summary),k.append("skills",JSON.stringify(V)),k.append("work_experience",JSON.stringify(l.value.work_experience)),k.append("education",JSON.stringify(B)),k.append("certifications",JSON.stringify(l.value.certifications)),k.append("languages",JSON.stringify(l.value.languages)),k.append("is_public",l.value.is_public?"1":"0"),k.append("is_primary",l.value.is_primary?"1":"0"),t.value&&t.value instanceof File?(console.log("Appending profile image to FormData:",{name:t.value.name,size:t.value.size,type:t.value.type,isFile:t.value instanceof File}),k.append("profile_image",t.value,t.value.name)):console.log("No new profile image selected, skipping"),console.log("FormData entries:");for(const[w,h]of k.entries())h instanceof File?console.log(`${w}:`,`File(${h.name}, ${h.size} bytes, ${h.type})`):console.log(`${w}:`,h);n.value&&s.value?(await m.updateCvWithFormData(s.value,k),p.success("CV updated successfully!")):(await m.createCvWithFormData(k),p.success("CV created successfully!")),b.push("/my-cvs")}catch(V){if(console.error("Failed to save CV:",V),console.error("Error response:",V.response),console.error("Error data:",(x=V.response)==null?void 0:x.data),console.error("Validation errors:",(r=(f=V.response)==null?void 0:f.data)==null?void 0:r.errors),(L=(I=V.response)==null?void 0:I.data)!=null&&L.errors){const B=V.response.data.errors,k=Object.entries(B).map(([w,h])=>`${w}: ${Array.isArray(h)?h.join(", "):h}`).join(`
`);p.error(`Validation failed:
${k}`)}else p.error(((q=(z=V.response)==null?void 0:z.data)==null?void 0:q.message)||V.message||"Failed to save CV. Please try again.")}finally{o.value=!1}},R=async()=>{var f;const x=c.params.id;if(x){n.value=!0,s.value=Number(x);try{await m.fetchMyCvs();const r=m.myCvs.find(I=>I.id===s.value);if(r){const I=((f=r.skills)==null?void 0:f.map(L=>typeof L=="string"?L:L.name))||[];l.value={full_name:r.full_name,email:r.email,phone:r.phone||"",title:r.title||"",summary:r.summary||"",skills:I,website:r.website||"",linkedin:r.linkedin||"",github:r.github||"",address:r.address||"",city:r.city||"",country:r.country||"",is_public:r.is_public,is_primary:r.is_primary,work_experience:r.work_experience||[],education:r.education||[],certifications:r.certifications||[],languages:r.languages||[]},r.profile_image&&(a.value=r.profile_image.path)}}catch(r){console.error("Failed to load CV:",r),alert("Failed to load CV for editing"),b.push("/my-cvs")}}};return K(()=>{u.user&&!c.params.id&&(l.value.full_name=u.user.name,l.value.email=u.user.email),c.params.id&&R()}),(x,f)=>(g(),v("div",wt,[e("div",Ct,[e("button",{onClick:f[0]||(f[0]=r=>P(b).back()),class:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors"},[...f[10]||(f[10]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),$(" Back to My CVs ",-1)])]),e("h1",Vt,_(n.value?"Edit CV":"Create New CV"),1),e("p",$t,_(n.value?"Update your CV information":"Fill in your details to create your professional CV"),1)]),e("form",{onSubmit:ee(W,["prevent"]),class:"max-w-4xl"},[i(le,{class:"p-8 mb-6"},{default:S(()=>[i(re,{modelValue:t.value,"onUpdate:modelValue":f[1]||(f[1]=r=>t.value=r),preview:a.value,"onUpdate:preview":f[2]||(f[2]=r=>a.value=r),onError:P(p).error},null,8,["modelValue","preview","onError"]),i(pe,{"personal-info":N.value,"onUpdate:personalInfo":O},null,8,["personal-info"]),i(ge,{summary:l.value.summary,"onUpdate:summary":f[3]||(f[3]=r=>l.value.summary=r)},null,8,["summary"]),i(xe,{skills:l.value.skills,"onUpdate:skills":f[4]||(f[4]=r=>l.value.skills=r)},null,8,["skills"]),i(je,{"work-experience":l.value.work_experience,"onUpdate:workExperience":f[5]||(f[5]=r=>l.value.work_experience=r)},null,8,["work-experience"]),i(We,{education:l.value.education,"onUpdate:education":f[6]||(f[6]=r=>l.value.education=r)},null,8,["education"]),i(et,{certifications:l.value.certifications,"onUpdate:certifications":f[7]||(f[7]=r=>l.value.certifications=r)},null,8,["certifications"]),i(ut,{languages:l.value.languages,"onUpdate:languages":f[8]||(f[8]=r=>l.value.languages=r)},null,8,["languages"]),i(ct,{"social-links":j.value,"onUpdate:socialLinks":H},null,8,["social-links"]),i(xt,{settings:D.value,"onUpdate:settings":T},null,8,["settings"]),e("div",ht,[i(E,{type:"button",variant:"outline",onClick:f[9]||(f[9]=r=>P(b).back()),class:"flex-1"},{default:S(()=>[...f[11]||(f[11]=[$(" Cancel ",-1)])]),_:1}),i(E,{type:"submit",variant:"primary",loading:o.value,class:"flex-1"},{default:S(()=>[$(_(n.value?"Update CV":"Create CV"),1)]),_:1},8,["loading"])])]),_:1})],32)]))}});export{Lt as default};
